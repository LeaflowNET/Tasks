{
  "name": "部署 WordPress",
  "description": "在当前工作空间中部署一个名为 wordpress 的应用（Deployment），并确保 MySQL 数据库（StatefulSet）运行中。",
  "author": {
    "name": "Leaflow",
    "url": "https://leaflow.net",
    "email": "nan@lifergroup.com"
  },
  "amount": 10,
  "rules": {
    "and": [
      {
        "some": [
          {
            "var": "statefulsets"
          },
          {
            "and": [
              {
                "in": [
                  "mysql",
                  {
                    "var": "name"
                  }
                ]
              },
              {
                "==": [
                  {
                    "var": "status"
                  },
                  "Running"
                ]
              }
            ]
          }
        ]
      },
      {
        "some": [
          {
            "var": "deployments"
          },
          {
            "and": [
              {
                "in": [
                  "wordpress",
                  {
                    "var": "name"
                  }
                ]
              },
              {
                "==": [
                  {
                    "var": "status"
                  },
                  "Running"
                ]
              },
              {
                "some": [
                  {
                    "var": "ports"
                  },
                  {
                    "==": [
                      {
                        "var": "port"
                      },
                      80
                    ]
                  }
                ]
              },
              {
                "some": [
                  {
                    "var": "volumes"
                  },
                  true
                ]
              },
              {
                "some": [
                  {
                    "var": "containers"
                  },
                  {
                    "in": [
                      "wordpress",
                      {
                        "var": "image"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  }
}